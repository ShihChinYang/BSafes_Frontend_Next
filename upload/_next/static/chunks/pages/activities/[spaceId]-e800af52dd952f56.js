(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[473],{94806:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/activities/[spaceId]",function(){return r(39968)}])},39968:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return O}});var t=r(26042),s=r(69396);function a(e,n){if(null==e)return{};var r,t,s=function(e,n){if(null==e)return{};var r,t,s={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(s[r]=e[r]);return s}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var c=r(13375);var o=r(91566);function u(e){return function(e){if(Array.isArray(e))return e}(e)||(0,c.Z)(e)||(0,o.Z)(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=r(85893),d=r(67294),f=r(9473),x=r(11163),h=r(41664),j=r.n(h),v=r(10682),p=r(21608),m=r(31555),y=r(18384),Z=r(16518),b=r(35005),g=r(36968),N=r(36250),w=r(55112),k=r.n(w),I=r(8914),_=r(12578),E=(r(14994),r(8180));function O(e){var n=(0,f.I0)(),r=(0,x.useRouter)(),t=(0,d.useState)(!1),s=t[0],a=t[1],c=(0,f.v9)((function(e){return e.auth.isLoggedIn})),i=(0,f.v9)((function(e){return e.auth.expandedKey})),o=(0,f.v9)((function(e){return e.auth.searchKey})),u=(0,f.v9)((function(e){return e.auth.searchIV})),h=(0,f.v9)((function(e){return e.container.activity})),j=(0,f.v9)((function(e){return e.container.workspace})),Z=(0,f.v9)((function(e){return e.container.workspaceKeyReady})),w=(0,f.v9)((function(e){return e.container.container})),E=(0,f.v9)((function(e){return e.container.activities}));return(0,d.useEffect)((function(){var e=function(e,r){var t=r.shallow;console.log("App is changing to ".concat(e," ").concat(t?"with":"without"," shallow routing")),n((0,_.JG)())};return r.events.on("routeChangeStart",e),function(){r.events.off("routeChangeStart",e)}}),[]),(0,d.useEffect)((function(){n((0,I.vB)(!1))}),[c]),(0,d.useEffect)((function(){if(c&&!Z&&r.query.spaceId){var e=r.query.spaceId;e.startsWith("u:")?(n((0,I.XZ)({container:"root",workspaceId:e,workspaceKey:i,searchKey:o,searchIV:u})),n((0,I.vB)(!0))):r.query.spaceId===j?(n((0,I.ef)({container:"root"})),n((0,I.vB)(!0))):n((0,I.VM)({teamId:e,container:"root"})),n((0,I.x$)()),a(!0)}}),[c,Z,r.query.spaceId]),(0,d.useEffect)((function(){if(s&&j&&Z&&"root"===w){n((0,_.rs)());var e=[{_id:j},{_id:"ac:"+j}];n((0,_.rJ)(e)),n((0,I.o4)({pageNumber:1}))}}),[s,w,j,Z]),(0,l.jsx)("div",{className:k().spaceBackground,children:(0,l.jsx)(N.Z,{children:(0,l.jsxs)(v.Z,{fluid:!0,children:[(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)(p.Z,{children:(0,l.jsx)(m.Z,{children:(0,l.jsx)("h1",{className:"text-center display-5",children:"Activities"})})}),"Done"!==h&&"Error"!==h&&(0,l.jsx)(p.Z,{className:"justify-content-center",children:(0,l.jsx)(g.Z,{animation:"border"})}),(0,l.jsx)(p.Z,{className:"justify-content-center",children:(0,l.jsx)(m.Z,{lg:8,children:(0,l.jsx)(y.Z,{children:E.map((function(e,n){return(0,l.jsx)(S,{items:e},n)}))})})}),(0,l.jsx)("br",{}),"Done"===h&&(0,l.jsx)(p.Z,{className:"justify-content-center",children:(0,l.jsx)(b.Z,{variant:"link",onClick:function(){n((0,I.o4)({}))},children:"More"})}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{})]})},r.pathname)})}function S(e){var n=e.items,r=(0,d.useState)(!1),a=r[0],c=r[1],i=u(n),o=i[0],f=i.slice(1);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(C,(0,s.Z)((0,t.Z)({},o),{root:!0})),f.length>0&&(0,l.jsxs)(l.Fragment,{children:[!a&&(0,l.jsx)("div",{className:"text-center",onClick:function(){return c(!a)},children:(0,l.jsx)("i",{className:"fa fa-caret-down"})}),(0,l.jsx)(Z.Z,{in:a,children:(0,l.jsx)("div",{children:f.map((function(e,n){return(0,d.createElement)(C,(0,s.Z)((0,t.Z)({},e),{key:n}))}))})}),a&&(0,l.jsx)("div",{className:"text-center",onClick:function(){return c(!a)},children:(0,l.jsx)("i",{className:"fa fa-caret-up"})})]})]})}function C(e){var n=e.root,r=a(e,["root"]),t=(0,E.vp)(r),s=(0,l.jsxs)("div",{children:[(0,l.jsx)(p.Z,{children:(0,l.jsx)(m.Z,{xs:12,children:(0,l.jsx)("h4",{className:"my-0",children:r.titleText})})}),(0,l.jsx)(p.Z,{children:(0,l.jsx)(m.Z,{xs:6,children:(0,l.jsx)("span",{className:"",children:r.updatedBy})})}),(0,l.jsxs)(p.Z,{children:[(0,l.jsx)(m.Z,{xs:6,children:(0,l.jsx)("span",{className:"",children:"".concat(r.updatedText,", ").concat(r.updatedTime)})}),(0,l.jsx)(m.Z,{xs:6,children:(0,l.jsx)("span",{className:"pull-right"})})]})]});return(0,l.jsx)(y.Z.Item,{className:n?"":"bg-light bg-gradient",style:{cursor:"pointer"},children:(0,l.jsxs)(p.Z,{children:[t?(0,l.jsx)(j(),{href:t,children:(0,l.jsx)(m.Z,{xs:11,children:s})}):(0,l.jsx)(m.Z,{xs:11,children:s}),(0,l.jsx)(m.Z,{xs:1,children:(0,l.jsx)("a",{className:"".concat(k().externalLink),target:"_blank",href:t,rel:"noopener noreferrer",children:(0,l.jsx)("i",{className:"me-2 fa fa-external-link fa-lg text-dark","aria-hidden":"true"})})})]})})}},36968:function(e,n,r){"use strict";var t=r(94184),s=r.n(t),a=r(67294),c=r(76792),i=r(85893);const o=a.forwardRef((({bsPrefix:e,variant:n,animation:r,size:t,as:a="div",className:o,...u},l)=>{const d=`${e=(0,c.vE)(e,"spinner")}-${r}`;return(0,i.jsx)(a,{ref:l,...u,className:s()(o,d,t&&`${d}-${t}`,n&&`text-${n}`)})}));o.displayName="Spinner",n.Z=o}},function(e){e.O(0,[14,664,250,774,888,179],(function(){return n=94806,e(e.s=n);var n}));var n=e.O();_N_E=n}]);