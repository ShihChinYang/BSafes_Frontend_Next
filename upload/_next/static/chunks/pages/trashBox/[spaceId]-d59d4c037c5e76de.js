(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[201],{89044:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/trashBox/[spaceId]",function(){return r(41301)}])},41301:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return j}});var t=r(47568),a=r(34051),c=r.n(a),s=r(85893),i=r(67294),o=r(11163),u=r(9473),l=r(10682),d=r(21608),f=r(31555),p=r(35005),v=r(55112),x=r.n(v),h=r(36250),m=r(28329),g=r(8914),b=r(12578),y=r(14994);r(8180);function j(){var e=!0,n=(0,u.I0)(),r=(0,o.useRouter)(),a=(0,i.useState)(null),v=a[0],j=a[1],k=(0,i.useState)(!1),N=k[0],Z=k[1],w=(0,u.v9)((function(e){return e.auth.isLoggedIn})),I=(0,u.v9)((function(e){return e.auth.searchKey})),C=(0,u.v9)((function(e){return e.auth.searchIV})),E=(0,u.v9)((function(e){return e.auth.expandedKey})),_=(0,u.v9)((function(e){return e.container.workspace})),P=((0,u.v9)((function(e){return e.container.workspaceKey})),(0,u.v9)((function(e){return e.container.workspaceKeyReady}))),B=(0,u.v9)((function(e){return e.container.items})),q=(0,u.v9)((function(e){return e.container.selectedItems})),R=(0,u.v9)((function(e){return e.container.trashBoxId})),$=B.map((function(e,n){return(0,s.jsx)(d.Z,{children:(0,s.jsx)(f.Z,{lg:{span:10,offset:1},children:(0,s.jsx)(m.Z,{item:e,isOpenable:!1})})},n)})),S=function(){var r=(0,t.Z)(c().mark((function r(t){var a;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a={teamSpace:_,trashBoxId:R,selectedItems:t},r.prev=1,r.next=4,(0,g.mJ)({payload:a});case 4:n((0,g.x_)()),n((0,g.bZ)({pageNumber:1})),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),(0,y.qu)(e,"handleRestore failed: ",r.t0);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e){return r.apply(this,arguments)}}(),K=function(){var r=(0,t.Z)(c().mark((function r(t){var a;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a={teamSpace:_,trashBoxId:R,selectedItems:t},r.prev=1,r.next=4,(0,g.xQ)({payload:a});case 4:n((0,g.bZ)({pageNumber:1})),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(1),(0,y.qu)(e,"handleEmpty failed: ",r.t0);case 10:case"end":return r.stop()}}),r,null,[[1,7]])})));return function(e){return r.apply(this,arguments)}}();return(0,i.useEffect)((function(){var e=function(e,r){var t=r.shallow;console.log("App is changing to ".concat(e," ").concat(t?"with":"without"," shallow routing")),n((0,b.JG)())};return r.events.on("routeChangeStart",e),function(){r.events.off("routeChangeStart",e)}}),[]),(0,i.useEffect)((function(){w&&r.query.spaceId&&(console.log(r.query.spaceId),n((0,g.H5)()),n((0,g.vB)(!1)),(0,y.qu)(e,"set space: ",r.query.spaceId),j(r.query.spaceId),r.query.spaceId===_?(n((0,g.ef)({container:"Unknown"})),n((0,g.vB)(!0))):(n((0,g.k_)()),Z(!0)))}),[w,r.query.spaceId]),(0,i.useEffect)((function(){v&&N&&("u"===v.substring(0,1)?(n((0,g.XZ)({container:"Unknown",workspaceId:v,workspaceKey:E,searchKey:I,searchIV:C})),n((0,g.vB)(!0))):n((0,g.VM)({teamId:v,container:"Unknown"})))}),[v,N]),(0,i.useEffect)((function(){if(_&&P){n((0,b.rs)());var e=[{_id:_},{_id:"t:workspaceId"}];n((0,b.rJ)(e)),n((0,g.Fd)())}}),[_,P]),(0,i.useEffect)((function(){R&&"Unknown"!==R&&(n((0,g.ef)({container:R})),n((0,g.bZ)({pageNumber:1})))}),[R]),(0,s.jsx)("div",{className:x().pageBackground,children:(0,s.jsx)(h.Z,{displayItemToolbar:!1,children:(0,s.jsx)(l.Z,{fluid:!0,children:(0,s.jsx)(d.Z,{children:(0,s.jsx)(f.Z,{lg:{span:10,offset:1},children:(0,s.jsxs)("div",{className:"".concat(x().pagePanel," ").concat(x().boxPanel),children:[(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("p",{className:"fs-1 text-center",children:"Trash"}),(0,s.jsx)("div",{children:(0,s.jsx)(d.Z,{children:(0,s.jsx)(f.Z,{xs:{span:10,offset:1},children:0===q.length?(0,s.jsxs)("div",{className:"pull-right",children:[(0,s.jsx)(p.Z,{variant:"link",className:"text-capitalize",onClick:function(){S(B)},children:"Restore all"}),(0,s.jsx)(p.Z,{variant:"link",className:"text-danger text-capitalize",onClick:function(){K(B)},children:"Empty all"})]}):(0,s.jsxs)("div",{className:"pull-right",children:[(0,s.jsx)(p.Z,{variant:"link",className:"text-capitalize",onClick:function(){var e=B.filter((function(e){return q.find((function(n){return n===e.id}))}));S(e)},children:"Restore"}),(0,s.jsx)(p.Z,{variant:"link",className:"text-danger text-capitalize",onClick:function(){var e=B.filter((function(e){return q.find((function(n){return n===e.id}))}));K(e)},children:"Empty"})]})})})}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),$]})})})})})})}},2086:function(e,n,r){"use strict";var t=r(94184),a=r.n(t),c=r(67294),s=r(76792),i=r(85893);const o=c.forwardRef((({bsPrefix:e,size:n,vertical:r,className:t,as:c="div",...o},u)=>{const l=(0,s.vE)(e,"btn-group");let d=l;return r&&(d=`${l}-vertical`),(0,i.jsx)(c,{...o,ref:u,className:a()(t,d,n&&`${l}-${n}`)})}));o.displayName="ButtonGroup",o.defaultProps={vertical:!1,role:"group"},n.Z=o},67525:function(e,n,r){"use strict";r.d(n,{Z:function(){return I}});var t=r(94184),a=r.n(t),c=r(67294),s=r(76792),i=r(66611),o=r(39602),u=r(85893);const l=c.forwardRef((({bsPrefix:e,className:n,variant:r,as:t="img",...c},i)=>{const o=(0,s.vE)(e,"card-img");return(0,u.jsx)(t,{ref:i,className:a()(r?`${o}-${r}`:o,n),...c})}));l.displayName="CardImg";var d=l;const f=c.createContext(null);f.displayName="CardHeaderContext";var p=f;const v=c.forwardRef((({bsPrefix:e,className:n,as:r="div",...t},i)=>{const o=(0,s.vE)(e,"card-header"),l=(0,c.useMemo)((()=>({cardHeaderBsPrefix:o})),[o]);return(0,u.jsx)(p.Provider,{value:l,children:(0,u.jsx)(r,{ref:i,...t,className:a()(n,o)})})}));v.displayName="CardHeader";var x=v;const h=(0,o.Z)("h5"),m=(0,o.Z)("h6"),g=(0,i.Z)("card-body"),b=(0,i.Z)("card-title",{Component:h}),y=(0,i.Z)("card-subtitle",{Component:m}),j=(0,i.Z)("card-link",{Component:"a"}),k=(0,i.Z)("card-text",{Component:"p"}),N=(0,i.Z)("card-footer"),Z=(0,i.Z)("card-img-overlay"),w=c.forwardRef((({bsPrefix:e,className:n,bg:r,text:t,border:c,body:i,children:o,as:l="div",...d},f)=>{const p=(0,s.vE)(e,"card");return(0,u.jsx)(l,{ref:f,...d,className:a()(n,p,r&&`bg-${r}`,t&&`text-${t}`,c&&`border-${c}`),children:i?(0,u.jsx)(g,{children:o}):o})}));w.displayName="Card",w.defaultProps={body:!1};var I=Object.assign(w,{Img:d,Title:b,Subtitle:y,Body:g,Link:j,Text:k,Header:x,Footer:N,ImgOverlay:Z})}},function(e){e.O(0,[14,664,250,329,774,888,179],(function(){return n=89044,e(e.s=n);var n}));var n=e.O();_N_E=n}]);