(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{45728:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(3116)}])},72560:function(e,n,i){"use strict";i.d(n,{Z:function(){return h}});var t=i(85893),a=i(67294),r=i(9473),s=i(21608),d=i(31555),o=i(35005),l=i(8102),c=i(59331),u=i(51479),f=i(41330),m=i(52822),x=i(12578);function h(e){var n=e.panelIndex,i=e.panel,h=e.onImageClicked,v=e.editorMode,p=e.onContentChanged,g=e.onPenClicked,j=e.editable,b=void 0===j||j,C=(0,r.I0)(),k=(0,a.useRef)(null);return(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{ref:k,type:"file",multiple:!0,className:"d-none editControl",id:"image"}),(0,t.jsx)(s.Z,{className:"",children:(0,t.jsxs)(d.Z,{children:["Uploaded"===i.status||"Downloaded"===i.status?(0,t.jsx)("div",{children:(0,t.jsx)(f.Z,{alt:"Image broken",src:i.src,onClick:function(){h(i.queueId)},fluid:!0})}):"","Uploading"===i.status||"Downloading"===i.status?(0,t.jsx)(u.Z,{now:i.progress}):""]})}),"Uploaded"===i.status||"Downloaded"===i.status?(0,t.jsx)("div",{children:(0,t.jsx)(s.Z,{children:(0,t.jsxs)("div",{children:[b?(0,t.jsx)(l.Z,{variant:"link",align:"end",title:(0,t.jsx)("span",{children:(0,t.jsx)("i",{className:"text-dark fa fa-ellipsis-v","aria-hidden":"true"})}),className:"pull-right",id:"dropdown-menu-align-end",children:(0,t.jsx)(c.Z.Item,{eventKey:"2",className:"deleteImageBtn",onClick:function(){confirm("Are you sure you want to delete this image?")&&C((0,x.cJ)({panel:i}))},children:"Delete Image"})}):"",(0,t.jsx)(o.Z,{id:n,onClick:function(e){var n;console.log("handleUpload:",e.target.id),null===(n=k.current)||void 0===n||n.click()},variant:"link",className:"text-dark btn btn-labeled pull-right",children:(0,t.jsx)("i",{id:n,className:"fa fa-picture-o fa-lg","aria-hidden":"true"})}),b?(0,t.jsx)(o.Z,{variant:"link",onClick:function(){g(n)},className:"text-dark pull-right",children:(0,t.jsx)("i",{className:"fa fa-pencil","aria-hidden":"true"})}):""]})})}):"",(0,t.jsx)(m.Z,{editorId:n,mode:v,content:i.words,onContentChanged:p,showPen:!1,editable:b}),(0,t.jsx)("br",{})]})}},3116:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return N}});var t=i(47568),a=i(29815),r=i(34051),s=i.n(r),d=i(85893),o=i(67294),l=i(9473),c=i(9008),u=i.n(c),f=i(35005),m=i(36250),x=i(19755),h=i.n(x),v=i(14994),p=i(68139),g=i(52822),j=i(21608),b=i(31555),C=i(72560),k=i(12578);function w(){var e=(0,l.I0)(),n=(0,l.v9)((function(e){return e.page.imagePanels})),i=(0,l.v9)((function(e){return e.page.imagePanelsIndex}));console.log(i);var t=(0,o.useRef)(null),a=function(e){console.log("".concat(e," is clicked"))};(0,o.useEffect)((function(){console.log("uesEffect called")}),[]);var r=n.map((function(e,n){return(0,d.jsx)(C.Z,{panelIndex:n,status:e.status,callback:a},e.key)}));return(0,d.jsxs)("div",{className:"images",children:[(0,d.jsx)("input",{ref:t,type:"file",multiple:!0,className:"d-none editControl",id:"image"}),(0,d.jsx)(j.Z,{className:"imageBtnRowTemplate row hidden",children:(0,d.jsx)(b.Z,{sm:{span:10,offset:1},md:{span:8,offset:2},className:"text-center",children:(0,d.jsx)(f.Z,{id:"1",onClick:function(n){console.log("handleUpload:",n.target.id),e((0,k.addImagesAsyncThunk)({files:["1","2","3"],where:"top"}))},variant:"link",className:"btn btn-labeled",children:(0,d.jsx)("h4",{children:(0,d.jsx)("i",{id:"1",className:"fa fa-picture-o fa-lg","aria-hidden":"true"})})})})}),r]})}i(42670);var Z=i(83454);function N(){var e=!1,n=Z.env.NEXT_PUBLIC_DB_HOST;(0,v.qu)(e,"host: ".concat(n));(0,l.I0)();var i=(0,l.v9)((function(e){return e.scripts.done})),r=(0,l.v9)((function(e){return e.auth.isLoggedIn})),c=(0,o.useState)("ReadOnly"),x=c[0],j=c[1],b=(0,o.useState)("Hello World"),C=b[0],k=b[1],N=(0,o.useState)(""),I=N[0],y=N[1],P=(0,o.useState)([{editorId:"image-1",editorMode:"ReadOnly",editorContent:"abc"}]),E=P[0],R=P[1];(0,v.qu)(e,"Rendering Home ..."),(0,o.useEffect)((function(){window.$=window.jQuery=h(),i&&$("#edit").froalaEditor()}),[i,r]);!function(){var n=(0,t.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:$.get("/",(function(n,i){(0,v.qu)(e,"Data: "+n+"\nStatus: "+i)}));case 1:case"end":return n.stop()}}),n)})))}();var O=function(n){if((0,v.qu)(e,"pen ".concat(n," clicked")),"main"===n)j("Writing"),y("main");else{var i=(0,a.Z)(E);i.find((function(e){return e.editorId===n})).editorMode="Writing",R(i),y(n)}},_=function(n,i){(0,v.qu)(e,"editor-id: ".concat(n," content: ").concat(i)),setTimeout((function(){if("main"===I)k(i),j("ReadOnly");else{var e=(0,a.Z)(E),n=e.find((function(e){return e.editorId===I}));n.editorContent=i,n.editorMode="ReadOnly",R(e)}}),1e3)},M=E.map((function(e){return(0,d.jsx)(g.Z,{editorId:e.editorId,mode:e.editorMode,content:e.editorContent,onContentChanged:_,onPenClicked:O},e.editorId)}));return(0,d.jsxs)("div",{children:[(0,d.jsxs)(u(),{children:[(0,d.jsx)("title",{children:"Create Next App"}),(0,d.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,d.jsx)(m.Z,{children:r?(0,d.jsxs)("main",{children:[(0,d.jsx)("h1",{children:"Introduction"}),(0,d.jsx)("div",{id:"edit"}),(0,d.jsx)(w,{}),(0,d.jsx)(g.Z,{editorId:"main",mode:x,content:C,onContentChanged:_,onPenClicked:O}),M,(0,d.jsx)(f.Z,{onClick:function(){(0,v.qu)(e,"Writing"),j("Writing"),y("main")},children:"Write"}),(0,d.jsx)(f.Z,{variant:"success",onClick:function(){if((0,v.qu)(e,"Saving"),"main"===I)j("Saving");else{var n=(0,a.Z)(E);n.find((function(e){return e.editorId===I})).editorMode="Saving",R(n)}},children:"Save"}),(0,d.jsx)(f.Z,{variant:"warning",onClick:function(){if((0,v.qu)(v.qu,"Cancel"),"main"===I)j("ReadOnly");else{var e=(0,a.Z)(E);e.find((function(e){return e.editorId===I})).editorMode="ReadOnly",R(e)}},children:"Cancel"})]}):(0,d.jsx)("main",{})}),(0,d.jsx)("footer",{}),(0,d.jsx)(p.Z,{})]})}},9008:function(e,n,i){e.exports=i(5443)},4298:function(e,n,i){e.exports=i(20699)},8102:function(e,n,i){"use strict";i.d(n,{Z:function(){return x}});var t=i(67294),a=i(45697),r=i.n(a),s=i(59331),d=i(24486),o=i(29100);const l=r().oneOf(["start","end"]),c=r().oneOfType([l,r().shape({sm:l}),r().shape({md:l}),r().shape({lg:l}),r().shape({xl:l}),r().shape({xxl:l}),r().object]);var u=i(85893);const f={id:r().string,href:r().string,onClick:r().func,title:r().node.isRequired,disabled:r().bool,align:c,menuRole:r().string,renderMenuOnMount:r().bool,rootCloseEvent:r().string,menuVariant:r().oneOf(["dark"]),bsPrefix:r().string,variant:r().string,size:r().string},m=t.forwardRef((({title:e,children:n,bsPrefix:i,rootCloseEvent:t,variant:a,size:r,menuRole:l,renderMenuOnMount:c,disabled:f,href:m,id:x,menuVariant:h,...v},p)=>(0,u.jsxs)(s.Z,{ref:p,...v,children:[(0,u.jsx)(d.Z,{id:x,href:m,size:r,variant:a,disabled:f,childBsPrefix:i,children:e}),(0,u.jsx)(o.Z,{role:l,renderOnMount:c,rootCloseEvent:t,variant:h,children:n})]})));m.displayName="DropdownButton",m.propTypes=f;var x=m},41330:function(e,n,i){"use strict";var t=i(94184),a=i.n(t),r=i(67294),s=i(45697),d=i.n(s),o=i(76792),l=i(85893);d().string,d().bool,d().bool,d().bool,d().bool;const c=r.forwardRef((({bsPrefix:e,className:n,fluid:i,rounded:t,roundedCircle:r,thumbnail:s,...d},c)=>(e=(0,o.vE)(e,"img"),(0,l.jsx)("img",{ref:c,...d,className:a()(n,i&&`${e}-fluid`,t&&"rounded",r&&"rounded-circle",s&&`${e}-thumbnail`)}))));c.displayName="Image",c.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1},n.Z=c},51479:function(e,n,i){"use strict";var t=i(94184),a=i.n(t),r=i(67294),s=i(76792),d=i(53439),o=i(85893);function l(e,n,i){const t=(e-n)/(i-n)*100;return Math.round(1e3*t)/1e3}function c({min:e,now:n,max:i,label:t,visuallyHidden:r,striped:s,animated:d,className:c,style:u,variant:f,bsPrefix:m,...x},h){return(0,o.jsx)("div",{ref:h,...x,role:"progressbar",className:a()(c,`${m}-bar`,{[`bg-${f}`]:f,[`${m}-bar-animated`]:d,[`${m}-bar-striped`]:d||s}),style:{width:`${l(n,e,i)}%`,...u},"aria-valuenow":n,"aria-valuemin":e,"aria-valuemax":i,children:r?(0,o.jsx)("span",{className:"visually-hidden",children:t}):t})}const u=r.forwardRef((({isChild:e,...n},i)=>{if(n.bsPrefix=(0,s.vE)(n.bsPrefix,"progress"),e)return c(n,i);const{min:t,now:l,max:u,label:f,visuallyHidden:m,striped:x,animated:h,bsPrefix:v,variant:p,className:g,children:j,...b}=n;return(0,o.jsx)("div",{ref:i,...b,className:a()(g,v),children:j?(0,d.UI)(j,(e=>(0,r.cloneElement)(e,{isChild:!0}))):c({min:t,now:l,max:u,label:f,visuallyHidden:m,striped:x,animated:h,bsPrefix:v,variant:p},i)})}));u.displayName="ProgressBar",u.defaultProps={min:0,max:100,animated:!1,isChild:!1,visuallyHidden:!1,striped:!1},n.Z=u}},function(e){e.O(0,[571,14,250,64,774,888,179],(function(){return n=45728,e(e.s=n);var n}));var n=e.O();_N_E=n}]);