(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[437],{71061:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/notebook/[itemId]",function(){return t(83450)}])},83450:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return _}});var c=t(47568),i=t(34051),r=t.n(i),o=t(85893),a=t(67294),u=t(11163),s=t(9473),l=t(21608),d=t(31555),f=t(55112),v=t.n(f),h=t(68139),p=t(36250),x=t(31940),j=t(22184),k=t(4940),Z=t(52822),b=t(87265),g=t(49791),m=(t(8914),t(12578)),q=t(14994),C=t(8180);function _(){var n=!1;(0,q.qu)(n,"Rendering item");var e=(0,s.I0)(),t=(0,u.useRouter)(),i=(0,s.v9)((function(n){return n.page.id})),f=(0,s.v9)((function(n){return n.page.container})),_=(0,s.v9)((function(n){return n.container.workspaceKey})),y=(0,s.v9)((function(n){return n.container.searchKey})),E=(0,s.v9)((function(n){return n.container.searchIV})),w=(0,s.v9)((function(n){return n.page.activity})),N=(0,a.useState)(null),O=N[0],I=N[1],R=(0,a.useState)("ReadOnly"),P=R[0],S=R[1],W=(0,s.v9)((function(n){return n.page.title})),L=function(n){if("title"===O)S(n)},T=function(){var e=(0,c.Z)(r().mark((function e(){var c,o,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,q.qu)(n,"handleOpen"),e.prev=1,e.next=4,(0,C.XR)(i);case 4:(c=e.sent)?(0,q.qu)(q.qu,c):((0,q.qu)(q.qu,"lastAccessedItem not set"),o=i.split(":"),a="/notebook/p/np:".concat(o[1],":").concat(o[2],":").concat(o[3],":1"),t.push(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),(0,q.qu)(n,e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){"Done"===w?O&&(L("ReadOnly"),I(null)):"Error"===w&&O&&L("Writing")}),[w]),(0,o.jsx)("div",{children:(0,o.jsxs)("div",{className:v().pageBackground,children:[(0,o.jsx)(p.Z,{children:(0,o.jsxs)(x.Z,{itemId:t.query.itemId,children:[(0,o.jsx)("br",{}),(0,o.jsx)(j.Z,{onCoverClicked:function(){if(f){var n=(0,C.Eo)(f).converLink;t.push(n)}},onContentsClicked:function(){if(f){var n=(0,C.Eo)(f).contentsLink;t.push(n)}}}),(0,o.jsx)("br",{}),(0,o.jsx)(l.Z,{children:(0,o.jsx)(d.Z,{lg:{span:10,offset:1},children:(0,o.jsxs)("div",{className:"".concat(v().notebookPanel," ").concat(v().notebookCoverPanel," ").concat(v().containerCoverPanel),children:[(0,o.jsx)(k.Z,{}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)(l.Z,{className:"justify-content-center",children:(0,o.jsx)(d.Z,{className:v().containerTitleLabel,xs:"10",sm:"10",md:"8",children:(0,o.jsx)(Z.Z,{editorId:"title",mode:P,content:W,onContentChanged:function(t,c){(0,q.qu)(n,"editor-id: ".concat(t," content: ").concat(c)),"title"===O&&(c!==W?e((0,m.Vf)(c,_,y,E)):(L("ReadOnly"),I(null)))},onPenClicked:function(e){(0,q.qu)(n,"pen ".concat(e," clicked")),"title"===e&&(S("Writing"),I("title"))},editable:!O&&"Done"===w})})}),(0,o.jsx)("br",{}),(0,o.jsx)(l.Z,{children:(0,o.jsx)(d.Z,{children:(0,o.jsx)(b.Z,{handleOpen:T})})}),(0,o.jsx)(g.Z,{isEditing:O,onWrite:function(){(0,q.qu)(n,"handleWrite"),S("Writing"),I("title")},onSave:function(){(0,q.qu)(n,"handleSave"),L("Saving")},onCancel:function(){(0,q.qu)(n,"handleCancel"),L("ReadOnly"),I(null)}})]})})})]})}),(0,o.jsx)(h.Z,{})]})})}}},function(n){n.O(0,[571,14,142,250,712,64,230,774,888,179],(function(){return e=71061,n(n.s=e);var e}));var e=n.O();_N_E=e}]);