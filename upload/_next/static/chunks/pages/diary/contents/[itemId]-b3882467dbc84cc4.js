(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{51958:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/diary/contents/[itemId]",function(){return n(29483)}])},29483:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var a=n(85893),r=n(67294),s=n(9473),i=n(11163),c=n(21608),u=n(31555),o=n(42298),l=n(55112),f=n.n(l),d=n(36250),h=n(31940),p=n(55068),m=n(51722),v=n(30483),x=n(18906),g=n(8914),y=(n(12578),n(14994));function j(){var e=!0;(0,y.qu)(e,"Rendering Contents");var t=(0,s.I0)(),n=(0,i.useRouter)(),l=(0,r.useState)(null),j=l[0],N=l[1],b=(0,s.v9)((function(e){return e.page.space})),Z=(0,s.v9)((function(e){return e.container.mode})),P=(0,s.v9)((function(e){return e.container.container})),w=(0,s.v9)((function(e){return e.container.startDateValue})),D=(0,r.useState)(new Date(w)),k=D[0],_=D[1],L=(0,s.v9)((function(e){return e.container.diaryContentsPageFirstLoaded})),C=(0,s.v9)((function(e){return e.container.items})),S=(0,s.v9)((function(e){return e.container.pageNumber})),E=(0,s.v9)((function(e){return e.container.itemsPerPage})),M=(0,s.v9)((function(e){return e.container.total})),q=(0,s.v9)((function(e){return e.container.workspaceKeyReady})),I=(0,s.v9)((function(e){return e.page.id})),F=(0,r.useState)([]),R=F[0],V=F[1],Y=k,z=(0,o.default)(Y,"MMM. yyyy"),T=R.map((function(e,t){return(0,a.jsx)(m.Z,{item:e,mode:Z},t)}));return(0,r.useEffect)((function(){L||((0,y.qu)(e,"startDate changed:",(0,o.default)(k,"yyyyLL")),V([]),q&&P&&((0,y.qu)(e,"startDate changed -> list items"),t((0,g.bZ)({startDate:(0,o.default)(k,"yyyyLL")}))))}),[k]),(0,r.useEffect)((function(){if(I&&b&&q)if((0,y.qu)(e,"itemsState changed:"),"search"!==Z){for(var t=k.getFullYear(),n=k.getMonth(),a=new Date(t,n+1,0).getDate(),r=[],s=0,i=0;i<a;i++){var c;c=parseInt((0,o.default)(new Date(t,n,i+1),"yyyyLLdd"));var u=void 0;for(u=s;u<C.length;u++)if(C[u].itemPack.pageNumber===c){r.push(C[u]),s=u+1;break}if(u===C.length){var l={id:I.replace("d:","dp:")+":"+(0,o.default)(new Date(t,n,i+1),"yyyy-LL-dd"),title:"",itemPack:{pageNumber:c}};r.push(l)}}V(r)}else V(C)}),[C]),(0,a.jsx)("div",{className:f().pageBackground,children:(0,a.jsx)(d.Z,{children:(0,a.jsxs)(h.Z,{itemId:n.query.itemId,children:[(0,a.jsx)("br",{}),(0,a.jsx)(p.Z,{startDate:k,setStartDate:_,onCoverClicked:function(){n.push("/diary/".concat(I))},onSubmitSearch:function(e){N(e),t((0,g.zs)({searchValue:e,pageNumber:1}))},onCancelSearch:function(){t((0,g.bZ)({startDate:(0,o.default)(k,"yyyyLL")}))},datePickerViewMode:"monthYear",showSearchIcon:!0}),(0,a.jsx)("br",{}),(0,a.jsx)(c.Z,{children:(0,a.jsx)(u.Z,{lg:{span:10,offset:1},children:(0,a.jsxs)("div",{className:"".concat(f().pagePanel," ").concat(f().diaryPanel),children:[(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("p",{className:"fs-1 text-center",children:z}),(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(u.Z,{xs:{span:2,offset:1},sm:{span:2,offset:1},xl:{span:1,offset:1},children:(0,a.jsx)("p",{children:"Day"})}),(0,a.jsx)(u.Z,{xs:8,sm:8,xl:9,children:(0,a.jsx)("p",{children:"Title"})})]}),(0,a.jsx)(c.Z,{children:(0,a.jsx)(u.Z,{xs:{span:10,offset:1},children:(0,a.jsx)("hr",{className:"mt-0 mb-0"})})}),T,"search"===Z&&C&&C.length>0&&(0,a.jsx)(c.Z,{children:(0,a.jsx)(u.Z,{sm:{span:10,offset:1},md:{span:8,offset:2},children:(0,a.jsx)("div",{className:"mt-4 d-flex justify-content-center",children:(0,a.jsx)(x.Z,{page:S,total:M,limit:E,changePage:function(e){!function(e){var n=e.pageNumber,a=void 0===n?1:n;"search"===(e.searchMode||Z)&&t((0,g.zs)({searchValue:j,pageNumber:a}))}({pageNumber:e})},ellipsis:1})})})})]})})}),(0,a.jsx)(v.Z,{onNextClicked:function(){(0,y.qu)(e,"Next Page ");var t=k.getFullYear(),n=k.getMonth(),a=new Date(t,n+1,1);_(a)},onPreviousClicked:function(){(0,y.qu)(e,"Previous Page ");var t=k.getFullYear(),n=k.getMonth(),a=new Date(t,n-1,1);_(a)}})]})})})}},2086:function(e,t,n){"use strict";var a=n(94184),r=n.n(a),s=n(67294),i=n(76792),c=n(85893);const u=s.forwardRef((({bsPrefix:e,size:t,vertical:n,className:a,as:s="div",...u},o)=>{const l=(0,i.vE)(e,"btn-group");let f=l;return n&&(f=`${l}-vertical`),(0,c.jsx)(s,{...u,ref:o,className:r()(a,f,t&&`${l}-${t}`)})}));u.displayName="ButtonGroup",u.defaultProps={vertical:!1,role:"group"},t.Z=u}},function(e){e.O(0,[14,142,561,198,250,366,170,774,888,179],(function(){return t=51958,e(e.s=t);var t}));var t=e.O();_N_E=t}]);