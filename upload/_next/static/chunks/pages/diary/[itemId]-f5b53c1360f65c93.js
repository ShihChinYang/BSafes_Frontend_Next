(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[241],{37635:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/diary/[itemId]",function(){return t(25893)}])},25893:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return w}});var i=t(47568),r=t(34051),c=t.n(r),a=t(85893),o=t(67294),u=t(11163),s=t(9473),l=t(21608),d=t(31555),f=t(55112),h=t.n(f),v=t(68139),p=t(36250),x=t(31940),j=t(22184),g=t(4940),y=t(52822),Z=t(87265),k=t(49791),C=(t(8914),t(12578)),m=t(14994),_=t(8180);function w(){var n=!1;(0,m.qu)(n,"Rendering item");var e=(0,s.I0)(),t=(0,u.useRouter)(),r=(0,s.v9)((function(n){return n.page.id})),f=(0,s.v9)((function(n){return n.page.container})),w=(0,s.v9)((function(n){return n.container.workspaceKey})),E=(0,s.v9)((function(n){return n.container.searchKey})),b=(0,s.v9)((function(n){return n.container.searchIV})),q=(0,s.v9)((function(n){return n.page.activity})),N=(0,o.useState)(null),O=N[0],I=N[1],P=(0,o.useState)("ReadOnly"),R=P[0],S=P[1],W=(0,s.v9)((function(n){return n.page.title})),D=function(n){if("title"===O)S(n)},L=function(){var e=(0,i.Z)(c().mark((function e(){var i,a,o,u,s,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,m.qu)(n,"handleOpen");try{i=new Date,a=i.getFullYear(),(o=i.getMonth()+1)<10&&(o="0"+o),(u=i.getDate())<10&&(u="0"+u),s=a+"-"+o+"-"+u,l="/diary/p/"+r.replace("d:","dp:")+":"+s,t.push(l)}catch(c){(0,m.qu)(n,c)}case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){"Done"===q?O&&(D("ReadOnly"),I(null)):"Error"===q&&O&&D("Writing")}),[q]),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:h().pageBackground,children:[(0,a.jsx)(p.Z,{children:(0,a.jsxs)(x.Z,{itemId:t.query.itemId,children:[(0,a.jsx)("br",{}),(0,a.jsx)(j.Z,{onCoverClicked:function(){if(f){var n=(0,_.Eo)(f).converLink;t.push(n)}},onContentsClicked:function(){if(f){var n=(0,_.Eo)(f).contentsLink;t.push(n)}}}),(0,a.jsx)("br",{}),(0,a.jsx)(l.Z,{children:(0,a.jsx)(d.Z,{lg:{span:10,offset:1},children:(0,a.jsxs)("div",{className:"".concat(h().diaryPanel," ").concat(h().diaryCoverPanel," ").concat(h().containerCoverPanel),children:[(0,a.jsx)(g.Z,{}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(l.Z,{className:"justify-content-center",children:(0,a.jsx)(d.Z,{className:h().containerTitleLabel,xs:"10",sm:"10",md:"8",children:(0,a.jsx)(y.Z,{editorId:"title",mode:R,content:W,onContentChanged:function(t,i){(0,m.qu)(n,"editor-id: ".concat(t," content: ").concat(i)),"title"===O&&(i!==W?e((0,C.Vf)(i,w,E,b)):(D("ReadOnly"),I(null)))},onPenClicked:function(e){(0,m.qu)(n,"pen ".concat(e," clicked")),"title"===e&&(S("Writing"),I("title"))},editable:!O&&"Done"===q})})}),(0,a.jsx)("br",{}),(0,a.jsx)(l.Z,{children:(0,a.jsx)(d.Z,{children:(0,a.jsx)(Z.Z,{handleOpen:L})})}),(0,a.jsx)(k.Z,{isEditing:O,onWrite:function(){(0,m.qu)(n,"handleWrite"),S("Writing"),I("title")},onSave:function(){(0,m.qu)(n,"handleSave"),D("Saving")},onCancel:function(){(0,m.qu)(n,"handleCancel"),D("ReadOnly"),I(null)}})]})})})]})}),(0,a.jsx)(v.Z,{})]})})}}},function(n){n.O(0,[571,14,142,250,712,64,230,774,888,179],(function(){return e=37635,n(n.s=e);var e}));var e=n.O();_N_E=e}]);