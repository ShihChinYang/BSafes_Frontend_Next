(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[415],{28368:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/box/[itemId]",function(){return t(40493)}])},40493:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return q}});var i=t(47568),r=t(34051),c=t.n(r),o=t(85893),a=t(67294),u=t(11163),s=t(9473),l=t(21608),d=t(31555),f=t(55112),v=t.n(f),x=t(68139),h=t(36250),p=t(31940),j=t(22184),Z=t(4940),b=t(52822),g=t(87265),k=t(49791),C=(t(8914),t(12578)),m=t(14994),_=t(8180);function q(){var n=!1;(0,m.qu)(n,"Rendering item");var e=(0,s.I0)(),t=(0,u.useRouter)(),r=(0,s.v9)((function(n){return n.page.id})),f=(0,s.v9)((function(n){return n.page.container})),q=(0,s.v9)((function(n){return n.container.workspaceKey})),y=(0,s.v9)((function(n){return n.container.searchKey})),E=(0,s.v9)((function(n){return n.container.searchIV})),w=(0,s.v9)((function(n){return n.page.activity})),N=(0,a.useState)(null),O=N[0],R=N[1],I=(0,a.useState)("ReadOnly"),P=I[0],S=I[1],W=(0,s.v9)((function(n){return n.page.title})),L=function(n){if("title"===O)S(n)},T=function(){var e=(0,i.Z)(c().mark((function e(){var i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,m.qu)(n,"handleOpen"),e.prev=1,e.next=4,(0,_.XR)(r);case 4:(i=e.sent)?(0,m.qu)(m.qu,i):(o="/box/contents/".concat(r),t.push(o)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),(0,m.qu)(n,e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){"Done"===w?O&&(L("ReadOnly"),R(null)):"Error"===w&&O&&L("Writing")}),[w]),(0,o.jsx)("div",{children:(0,o.jsxs)("div",{className:v().pageBackground,children:[(0,o.jsx)(h.Z,{children:(0,o.jsxs)(p.Z,{itemId:t.query.itemId,children:[(0,o.jsx)("br",{}),(0,o.jsx)(j.Z,{onCoverClicked:function(){if(f){var n=(0,_.Eo)(f).converLink;t.push(n)}},onContentsClicked:function(){if(f){var n=(0,_.Eo)(f).contentsLink;t.push(n)}}}),(0,o.jsx)("br",{}),(0,o.jsx)(l.Z,{children:(0,o.jsx)(d.Z,{lg:{span:10,offset:1},children:(0,o.jsxs)("div",{className:"".concat(v().boxPanel," ").concat(v().boxCoverPanel," ").concat(v().containerCoverPanel),children:[(0,o.jsx)(Z.Z,{}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)(l.Z,{className:"justify-content-center",children:(0,o.jsx)(d.Z,{className:v().containerTitleLabel,xs:"10",sm:"10",md:"8",children:(0,o.jsx)(b.Z,{editorId:"title",mode:P,content:W,onContentChanged:function(t,i){(0,m.qu)(n,"editor-id: ".concat(t," content: ").concat(i)),"title"===O&&(i!==W?e((0,C.Vf)(i,q,y,E)):(L("ReadOnly"),R(null)))},onPenClicked:function(e){(0,m.qu)(n,"pen ".concat(e," clicked")),"title"===e&&(S("Writing"),R("title"))},editable:!O&&"Done"===w})})}),(0,o.jsx)("br",{}),(0,o.jsx)(l.Z,{children:(0,o.jsx)(d.Z,{children:(0,o.jsx)(g.Z,{handleOpen:T})})}),(0,o.jsx)(k.Z,{isEditing:O,onWrite:function(){(0,m.qu)(n,"handleWrite"),S("Writing"),R("title")},onSave:function(){(0,m.qu)(n,"handleSave"),L("Saving")},onCancel:function(){(0,m.qu)(n,"handleCancel"),L("ReadOnly"),R(null)}})]})})})]})}),(0,o.jsx)(x.Z,{})]})})}}},function(n){n.O(0,[571,14,142,250,712,64,230,774,888,179],(function(){return e=28368,n(n.s=e);var e}));var e=n.O();_N_E=e}]);