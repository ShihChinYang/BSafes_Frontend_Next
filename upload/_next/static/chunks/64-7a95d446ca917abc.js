"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[64],{52822:function(e,r,t){t.d(r,{Z:function(){return v}});var n=t(47568),a=t(34051),o=t.n(a),i=t(85893),s=t(67294),u=t(9473),l=t(21608),c=t(31555),d=t(35005),f=t(19755),p=t.n(f),m=t(55112),h=t.n(m),g=t(14994),b=t(13314),w=t(10582),S=t(21876).Buffer,y=t(9669),k=t(22079);function v(e){var r=e.editorId,t=e.mode,a=e.content,f=e.onContentChanged,m=e.onPenClicked,v=e.showPen,L=void 0===v||v,F=e.editable,U=void 0===F||F,q=!1,x=(0,s.useRef)(null),T="1ZSZGUSXYSMZb1JGZ==",R=(0,u.v9)((function(e){return e.scripts.done})),I=(0,u.v9)((function(e){return e.auth.expandedKey})),B=(0,u.v9)((function(e){return e.page.id})),Z=(0,u.v9)((function(e){return e.page.itemKey})),O=(0,u.v9)((function(e){return e.page.itemIV}));(0,g.qu)(q,"editor key: ".concat(T));var P=(0,s.useState)(!1),j=P[0],C=P[1];(0,g.qu)(q,"Rendering editor, id,  mode: ","".concat(r," ").concat(t));(0,s.useEffect)((function(){switch(t){case"ReadOnly":j&&($(x.current).froalaEditor("destroy"),$(x.current).html(a),C(!1));break;case"Writing":!function(){if(R&&!j){var e;switch(r){case"title":e={key:T,toolbarButtons:["undo","redo"],toolbarButtonsMD:["undo","redo"],toolbarButtonsSM:["undo","redo"],toolbarButtonsXS:["undo","redo"],placeholderText:"Page Title"};break;case"content":e={key:T,toolbarButtons:["fullscreen","bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","lineHeight","|","color","emoticons","paragraphStyle","|","paragraphFormat","align","formatOL","formatUL","outdent","indent","quote","insertHR","-","insertLink","insertImage","insertVideo","insertTable","undo","redo","clearFormatting","html"],toolbarButtonsMD:["fullscreen","bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","lineHeight","|","color","emoticons","paragraphStyle","|","paragraphFormat","align","formatOL","formatUL","outdent","indent","quote","insertHR","-","insertLink","insertImage","insertVideo","insertTable","undo","redo","clearFormatting","html"],toolbarButtonsSM:["fullscreen","bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","lineHeight","|","color","emoticons","paragraphStyle","|","paragraphFormat","align","formatOL","formatUL","outdent","indent","quote","insertHR","-","insertLink","insertImage","insertVideo","insertTable","undo","redo","clearFormatting","html"],toolbarButtonsXS:["bold","fontSize","color","paragraphStyle","paragraphFormat","align","formatOL","formatUL","insertLink","insertImage","insertVideo","undo"],fontFamily:{"Arial,Helvetica,sans-serif":"Arial","Georgia,serif":"Georgia","Impact,Charcoal,sans-serif":"Impact","Tahoma,Geneva,sans-serif":"Tahoma","'Times New Roman',Times,serif":"Times New Roman","Verdana,Geneva,sans-serif":"Verdana","Open Sans, serif":"Open Sans","La Belle Aurore":"La Belle Aurore","Cormorant Garamond":"Cormorant Garamond","Roboto,sans-serif":"Roboto","Oswald,sans-serif":"Oswald","Montserrat,sans-serif":"Montserrat","'Open Sans Condensed',sans-serif":"Open Sans Condensed"},fontFamilySelection:!1};break;default:e={key:T,toolbarButtons:["fullscreen","bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","|","color","emoticons","paragraphStyle","|","paragraphFormat","align","formatOL","formatUL","outdent","indent","quote","insertHR","-","insertLink","insertImage","insertVideo","insertFile","insertTable","undo","redo","clearFormatting","html"],toolbarButtonsMD:["fullscreen","bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","|","color","emoticons","paragraphStyle","|","paragraphFormat","align","formatOL","formatUL","outdent","indent","quote","insertHR","-","insertLink","insertImage","insertVideo","insertTable","undo","redo","clearFormatting","html"],toolbarButtonsSM:["fullscreen","bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","|","color","emoticons","paragraphStyle","|","paragraphFormat","align","formatOL","formatUL","outdent","indent","quote","insertHR","-","insertLink","insertImage","insertVideo","insertTable","undo","redo","clearFormatting","html"],toolbarButtonsXS:["bold","fontSize","color","paragraphStyle","paragraphFormat","align","formatOL","formatUL","insertLink","insertImage","insertVideo","undo"]}}$(x.current).froalaEditor(e),j||((0,g.qu)(q,"setEditorOn"),C(!0))}}();break;case"Saving":!function(){var e=$(x.current).froalaEditor("html.get");(0,g.qu)(q,"editor content: ",e),setTimeout((function(){f(r,e)}),0)}()}}),[t]),(0,s.useEffect)((function(){B&&Z&&($(".container").data("itemId",B),$(".container").data("itemKey",Z),$(".container").data("itemIV",O))}),[B,Z,O]),(0,s.useEffect)((function(){window.$=window.jQuery=p()}),[]),(0,s.useEffect)((function(){R&&window&&((0,g.qu)(q,"bsafesFroala: ".concat(window.bsafesFroala.name)),window.bsafesFroala.bSafesPreflight=E,window.bsafesFroala.rotateImage=V,window.bsafesFroala.convertUint8ArrayToBinaryString=g.tp,window.bsafesFroala.encryptBinaryString=H,window.bsafesFroala.encryptLargeBinaryString=G,window.bsafesFroala.preS3Upload=M,window.bsafesFroala.postS3Upload=z,window.bsafesFroala.uploadData=N)}),[R]);var E=function(e){(0,g.qu)(q,"bSafesPreflight"),(0,g.$3)({api:"/memberAPI/preflight"}).then((function(r){(0,g.qu)(q,r),"ok"===r.status?((0,g.qu)(q,"bSafesPreflight ok: "),e(null,I)):((0,g.qu)(q,"woo... bSafesPreflight failed: ",r.error),e(r.error))})).catch((function(r){(0,g.qu)(q,"woo... bSafesPreflight failed."),e(r)}))},V=function(){var e=(0,n.Z)(o().mark((function e(r,t,n){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,w.N)(r,t);case 3:a=e.sent,(0,g.qu)(q,"Rotation done"),n(null,a.blob,a.byteString),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),(0,g.qu)(q,"rotateImage error:",e.t0),n(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r,t,n){return e.apply(this,arguments)}}(),H=function(e,r){return(0,b.UJ)(e,r)},G=function(e,r){return(0,b.sz)(e,r)},M=function(){return new Promise(function(){var e=(0,n.Z)(o().mark((function e(r,t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,g.$3)({api:"/memberAPI/preS3Upload"}).then((function(e){if((0,g.qu)(q,e),"ok"===e.status){var n=e.s3Key,a=e.signedURL,o=e.signedGalleryURL,i=e.signedThumbnailURL;r({status:"ok",s3Key:n,signedURL:a,signedGalleryURL:o,signedThumbnailURL:i})}else(0,g.qu)(q,"preS3Upload failed: ",e.error),t({status:"error",error:e.error})})).catch((function(e){(0,g.qu)(q,"preS3Upload failed: ",e),t({status:"error",error:e})}));case 1:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}())},z=function(e){return new Promise(function(){var r=(0,n.Z)(o().mark((function r(t,n){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e.keyEnvelope=k.util.encode64(e.keyEnvelope),(0,g.$3)({api:"/memberAPI/postS3Upload",body:e}).then((function(e){(0,g.qu)(q,e),"ok"===e.status?t({status:"ok"}):((0,g.qu)(q,"postS3Upload failed: ",e.error),n(e.error))})).catch((function(e){(0,g.qu)(q,"postS3Upload failed: ",e),n(e)}));case 2:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}())},N=function(e,r,t){return new Promise(function(){var a=(0,n.Z)(o().mark((function a(i,s){var u,l;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return u={onUploadProgress:function(){var e=(0,n.Z)(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(r);case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),headers:{"Content-Type":"binary/octet-stream"}},a.prev=1,a.next=4,y.put(r,S.from(e,"binary"),u);case 4:l=a.sent,i(l),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),s(a.t0);case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e,r){return a.apply(this,arguments)}}())};return(0,i.jsxs)(i.Fragment,{children:[L&&U?(0,i.jsx)(l.Z,{children:(0,i.jsx)(c.Z,{children:(0,i.jsx)(d.Z,{variant:"link",className:"text-dark pull-right",onClick:function(){m(r)},children:(0,i.jsx)("i",{className:"fa fa-pencil","aria-hidden":"true"})})})}):(0,i.jsx)(l.Z,{children:(0,i.jsx)(c.Z,{children:(0,i.jsx)(d.Z,{variant:"link",className:"text-dark pull-right"})})}),(0,i.jsx)(l.Z,{className:"".concat(h().editorRow," fr-element fr-view"),children:(0,i.jsx)("div",{ref:x,dangerouslySetInnerHTML:{__html:a}})})]})}},68139:function(e,r,t){t.d(r,{Z:function(){return c}});var n=t(85893),a=(t(67294),t(4298)),o=t.n(a),i=t(9473),s=t(89826),u=t(14994),l=0;function c(){var e=(0,i.I0)(),r=(0,i.v9)((function(e){return e.scripts.scripts}));(0,i.v9)((function(e){return e.scripts.done}));(0,u.qu)(!1,"Render count:",l),l++;var t=r.map((function(r,t){return(0,n.jsx)(o(),{id:r.id,src:r.src,onLoad:function(){e((0,s.CL)(t))}},t)}));return(0,n.jsx)("div",{children:t})}}}]);