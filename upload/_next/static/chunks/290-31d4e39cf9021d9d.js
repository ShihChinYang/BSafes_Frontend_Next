"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[290],{72560:function(e,n,t){t.d(n,{Z:function(){return f}});var s=t(85893),a=t(67294),i=t(9473),r=t(21608),l=t(31555),d=t(35005),c=t(8102),o=t(59331),u=t(51479),p=t(41330),m=t(52822),h=t(12578);function f(e){var n=e.panelIndex,t=e.panel,f=e.onImageClicked,x=e.editorMode,g=e.onContentChanged,j=e.onPenClicked,v=e.editable,N=void 0===v||v,_=(0,i.I0)(),w=(0,a.useRef)(null);return(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{ref:w,type:"file",multiple:!0,className:"d-none editControl",id:"image"}),(0,s.jsx)(r.Z,{className:"",children:(0,s.jsxs)(l.Z,{children:["Uploaded"===t.status||"Downloaded"===t.status?(0,s.jsx)("div",{children:(0,s.jsx)(p.Z,{alt:"Image broken",src:t.src,onClick:function(){f(t.queueId)},fluid:!0})}):"","Uploading"===t.status||"Downloading"===t.status?(0,s.jsx)(u.Z,{now:t.progress}):""]})}),"Uploaded"===t.status||"Downloaded"===t.status?(0,s.jsx)("div",{children:(0,s.jsx)(r.Z,{children:(0,s.jsxs)("div",{children:[N?(0,s.jsx)(c.Z,{variant:"link",align:"end",title:(0,s.jsx)("span",{children:(0,s.jsx)("i",{className:"text-dark fa fa-ellipsis-v","aria-hidden":"true"})}),className:"pull-right",id:"dropdown-menu-align-end",children:(0,s.jsx)(o.Z.Item,{eventKey:"2",className:"deleteImageBtn",onClick:function(){confirm("Are you sure you want to delete this image?")&&_((0,h.cJ)({panel:t}))},children:"Delete Image"})}):"",(0,s.jsx)(d.Z,{id:n,onClick:function(e){var n;console.log("handleUpload:",e.target.id),null===(n=w.current)||void 0===n||n.click()},variant:"link",className:"text-dark btn btn-labeled pull-right",children:(0,s.jsx)("i",{id:n,className:"fa fa-picture-o fa-lg","aria-hidden":"true"})}),N?(0,s.jsx)(d.Z,{variant:"link",onClick:function(){j(n)},className:"text-dark pull-right",children:(0,s.jsx)("i",{className:"fa fa-pencil","aria-hidden":"true"})}):""]})})}):"",(0,s.jsx)(m.Z,{editorId:n,mode:x,content:t.words,onContentChanged:g,showPen:!1,editable:N}),(0,s.jsx)("br",{})]})}},4940:function(e,n,t){t.d(n,{Z:function(){return N}});var s=t(85893),a=t(67294),i=t(9473),r=t(10682),l=t(21608),d=t(31555),c=t(35005),o=t(32171),u=t(39060),p=t(63327),m=t(12053),h=t(18384),f=t(37820),x=t.n(f),g=t(55112),j=t.n(g),v=t(12578);function N(){var e=(0,i.I0)(),n=(0,i.v9)((function(e){return e.container.workspaceKey})),t=(0,i.v9)((function(e){return e.container.searchKey})),o=(0,i.v9)((function(e){return e.container.searchIV})),u=(0,i.v9)((function(e){return e.page.activity})),p=(0,i.v9)((function(e){return e.page.tags})),m=(0,a.useState)([]),h=m[0],f=m[1],g=(0,a.useState)(!1),N=g[0],w=g[1],Z=(0,a.useState)(!1),y=Z[0],C=Z[1];return(0,a.useEffect)((function(){f(p)}),[p]),(0,a.useEffect)((function(){"Done"===u&&N&&w(!1)}),[u]),(0,s.jsxs)(r.Z,{children:[(0,s.jsx)(l.Z,{children:(0,s.jsx)(d.Z,{children:(0,s.jsxs)("div",{className:"pull-right",children:[(0,s.jsx)("span",{children:"v.1"}),(0,s.jsx)(c.Z,{variant:"link",className:"text-dark",onClick:function(){C(!0),e((0,v.Kh)())},children:(0,s.jsx)("i",{className:"fa fa-history","aria-hidden":"true"})}),(0,s.jsx)(c.Z,{variant:"link",className:"text-dark",children:(0,s.jsx)("i",{className:"fa fa-share-square-o","aria-hidden":"true"})})]})})}),(0,s.jsxs)(l.Z,{children:[(0,s.jsx)(d.Z,{xs:"1",children:(0,s.jsx)("label",{className:"pull-right",children:(0,s.jsx)("span",{children:(0,s.jsx)("i",{className:"fa fa-tags fa-lg","aria-hidden":"true"})})})}),(0,s.jsx)(d.Z,{xs:"10",children:(0,s.jsx)(x(),{value:h,onChange:function(e){f(e),N||w(!0)}})})]}),N&&(0,s.jsx)(l.Z,{children:(0,s.jsxs)(d.Z,{md:"10",children:[(0,s.jsx)(c.Z,{variant:"link",className:"pull-right",onClick:function(){f(p),w(!1)},children:(0,s.jsx)("i",{className:"fa fa-times fa-lg ".concat(j().orangeText),"aria-hidden":"true"})}),(0,s.jsx)(c.Z,{variant:"link",className:"pull-right",onClick:function(){e((0,v.Sx)(h,n,t,o))},children:(0,s.jsx)("i",{className:"fa fa-check fa-lg ".concat(j().greenText),"aria-hidden":"true"})})]})}),(0,s.jsx)(_,{versionsHistoryModalOpened:y,closeVersionsHistoryModal:function(){return C(!1)}})]})}function _(e){var n=e.versionsHistoryModalOpened,t=e.closeVersionsHistoryModal,a=(0,i.v9)((function(e){return e.page.itemVersions}));return(0,s.jsxs)(o.Z,{show:n,onHide:t,children:[(0,s.jsx)(u.Z,{closeButton:!0,children:(0,s.jsxs)(p.Z,{children:[(0,s.jsx)("h4",{children:"Versions"}),(0,s.jsx)(c.Z,{variant:"link",href:"#",size:"sm",children:"Go to top"})]})}),(0,s.jsx)(m.Z,{children:(0,s.jsx)(h.Z,{children:null===a||void 0===a?void 0:a.map(w)})})]})}function w(e){var n=e.id,t=e.updatedBy,a=e.updatedTime,i=e.updatedText,r=e.updatedTimeStamp,c=e.version;return(0,s.jsxs)(h.Z.Item,{children:[(0,s.jsxs)(l.Z,{children:[(0,s.jsx)(d.Z,{xs:3,children:(0,s.jsxs)("h4",{children:["v.",c]})}),(0,s.jsx)(d.Z,{xs:9,children:(0,s.jsx)("h4",{className:"pull-right",children:i})})]}),(0,s.jsxs)(l.Z,{children:[(0,s.jsx)(d.Z,{xs:6,children:(0,s.jsx)("h6",{children:t})}),(0,s.jsx)(d.Z,{xs:6,children:(0,s.jsx)("h6",{className:"pull-right",children:a})})]}),(0,s.jsx)(l.Z,{children:(0,s.jsx)(d.Z,{xs:12,children:(0,s.jsx)("h6",{className:"pull-right",children:r})})})]},n)}},49791:function(e,n,t){t.d(n,{Z:function(){return l}});var s=t(85893),a=t(35005),i=t(55112),r=t.n(i);function l(e){var n=e.isEditing,t=e.onWrite,i=e.onSave,l=e.onCancel;return(0,s.jsxs)(s.Fragment,{children:[n?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(a.Z,{onClick:t,className:"".concat(r().btnCircle," ").concat(r().btnFloating," ").concat(r().btnFloatingWrite),children:(0,s.jsx)("i",{className:"fa fa-pencil fa-2x","aria-hidden":"true"})}),n?(0,s.jsx)(a.Z,{onClick:i,className:"".concat(r().btnCircle," ").concat(r().btnFloating," ").concat(r().btnFloatingSave),children:(0,s.jsx)("i",{className:"fa fa-check fa-2x","aria-hidden":"true"})}):(0,s.jsx)(s.Fragment,{}),n?(0,s.jsx)(a.Z,{onClick:l,className:"".concat(r().btnCircle," ").concat(r().btnFloating," ").concat(r().btnFloatingCancel),children:(0,s.jsx)("i",{className:"fa fa-times fa-2x","aria-hidden":"true"})}):(0,s.jsx)(s.Fragment,{})]})}},34880:function(e,n,t){t.d(n,{Z:function(){return E}});var s=t(85893),a=t(67294),i=t(9473),r=t(21608),l=t(31555),d=t(35005),c=t(36968),o=t(52822),u=t(72560),p=t(49791),m=t(47568),h=t(34051),f=t.n(h),x=t(67525),g=t(49517),j=t(43489),v=t(8102),N=t(59331),_=t(51479),w=t(55112),Z=t.n(w),y=t(12578),C=t(8180),k=t(14994);function b(e){e.panelIndex;var n=e.panel,t=(0,i.I0)(),c=(0,i.v9)((function(e){return e.container.workspaceKey})),o=(0,a.useRef)(null),u=function(){var e=(0,m.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t((0,y.sg)({panel:n,workspaceKey:c}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){var e;n.link&&(null===(e=o.current)||void 0===e||e.click())}),[n]),(0,s.jsx)(x.Z,{children:(0,s.jsxs)(x.Z.Body,{children:[(0,s.jsxs)(r.Z,{children:[(0,s.jsx)(l.Z,{xs:8,md:9,children:(0,s.jsxs)("h6",{children:[(0,s.jsx)("i",{className:"fa fa-file-o","aria-hidden":"true"})," ",(0,s.jsx)("span",{className:"attachmentFileName",children:n.fileName})]})}),(0,s.jsx)(l.Z,{xs:4,md:3,children:(0,s.jsxs)("div",{children:[(0,s.jsx)(v.Z,{variant:"link",align:"end",title:(0,s.jsx)("span",{children:(0,s.jsx)("i",{className:"text-dark fa fa-ellipsis-v fa-lg","aria-hidden":"true"})}),className:"".concat(Z().attachmentMoreBtn," pull-right"),id:"dropdown-menu-align-end",children:(0,s.jsx)(N.Z.Item,{eventKey:"1",onClick:function(){confirm("Are you sure you want to delete this attachment?")&&t((0,y.ex)({panel:n}))},children:"Delete"})}),("Uploaded"===n.status||"Downloaded"===n.status)&&(0,s.jsx)(d.Z,{variant:"link",className:"pt-0 px-2 pull-right",onClick:u,children:(0,s.jsx)("i",{className:"text-dark fa fa-download fa-lg","aria-hidden":"true"})}),(0,s.jsx)("a",{ref:o,href:n.link,download:n.fileName,className:"d-none",children:"Save"}),("UploadFailed"===n.status||"DownloadFailed"===n.status)&&(0,s.jsx)(g.Z,{placement:"top",overlay:(0,s.jsx)(j.Z,{id:"ResumeUploadingFile",children:"Resume"}),children:(0,s.jsx)(d.Z,{variant:"link",className:"pt-0 px-2 pull-right",onClick:function(){"UploadFailed"===n.status||t((0,y.sg)({panel:null,workspaceKey:c}))},children:(0,s.jsx)("i",{className:"text-dark fa fa-play-circle-o fa-lg","aria-hidden":"true"})})}),("WaitingForUpload"===n.status||"WaitingForDownload"===n.status)&&(0,s.jsx)(d.Z,{variant:"link",className:"pt-0 px-2 pull-right",children:(0,s.jsx)("i",{className:"text-dark fa fa-hand-paper-o fa-lg","aria-hidden":"true"})}),("Uploading"===n.status||"Downloading"===n.status)&&(0,s.jsx)(g.Z,{placement:"top",overlay:(0,s.jsx)(j.Z,{id:"StopUploadingFile",children:"Stop"}),children:(0,s.jsx)(d.Z,{variant:"link",className:"pt-0 px-2 pull-right",onClick:function(){"Uploading"===n.status?t((0,y.k2)()):t((0,y.dc)())},children:(0,s.jsx)("i",{className:"text-dark fa fa-pause fa-lg","aria-hidden":"true"})})})]})})]}),(0,s.jsx)(r.Z,{children:(0,s.jsx)(l.Z,{xs:8,md:9,children:(0,s.jsx)("p",{className:"mb-0",children:(0,C.x6)(n.fileSize)+" bytes"})})}),(0,s.jsx)(r.Z,{children:(0,s.jsx)(l.Z,{children:"Uploading"===n.status||"UploadFailed"===n.status||"Downloading"===n.status||"DownloadFailed"===n.status?(0,s.jsx)(_.Z,{now:n.progress}):""})})]})})}function I(e){var n=e.handlePenClicked,t=e.handleContentChanged,a=e.editable,d=((0,i.I0)(),(0,i.v9)((function(e){return e.page.id})),(0,i.v9)((function(e){return e.page.itemKey})),(0,i.v9)((function(e){return e.page.newCommentEditorMode}))),c=(0,i.v9)((function(e){return e.page.comments}));return(0,s.jsxs)("div",{children:[(0,s.jsx)(r.Z,{children:(0,s.jsx)(l.Z,{sm:{span:10,offset:1},md:{span:8,offset:2},children:(0,s.jsx)("h4",{className:"fw-normal",children:"Comments"})})}),(0,s.jsx)(D,{CommentCard:!0,commentIndex:"comment_New",editorMode:d,onPenClicked:n,onContentChanged:t,editable:a},"New"),null===c||void 0===c?void 0:c.map((function(e,i){return(0,s.jsx)(D,{commentIndex:"comment_"+i,comment:e,editorMode:e.editorMode,onPenClicked:n,onContentChanged:t,editable:a},i)}))]})}function D(e){var n=e.commentIndex,t=e.comment,a=void 0===t?null:t,i=e.editorMode,d=e.onContentChanged,c=e.onPenClicked,u=e.editable,p=void 0===u||u;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"comment",children:[(0,s.jsx)(r.Z,{children:(0,s.jsx)(l.Z,{sm:{span:10,offset:1},md:{span:8,offset:2},children:(0,s.jsx)("hr",{className:"mt-0 mb-1"})})}),(0,s.jsxs)(r.Z,{children:[(0,s.jsx)(l.Z,{xs:{span:6},sm:{span:5,offset:1},md:{span:4,offset:2},children:(0,s.jsx)("h5",{className:"fw-normal",children:a?a.writerName:"New"})}),(0,s.jsx)(l.Z,{xs:{span:6},sm:{span:5},md:{span:4},children:a&&(0,s.jsxs)("h6",{className:"commentCreationTime text-end",children:["Created, ",(0,C.AN)(a.creationTime)]})})]}),a&&a.creationTime!==a.lastUpdateTime&&(0,s.jsxs)(r.Z,{className:"commentLastUpdateTimeRow",children:[(0,s.jsx)(l.Z,{xs:{span:6},sm:{span:5,offset:1},md:{span:4,offset:2}}),(0,s.jsx)(l.Z,{xs:{span:6},sm:{span:5},md:{span:4},children:(0,s.jsxs)("p",{className:"commentLastUpdateTime fs-6 text-end",children:["Updated, ",(0,C.AN)(a.lastUpdateTime)]})})]}),(0,s.jsx)(r.Z,{children:(0,s.jsx)(l.Z,{xs:{span:12},sm:{span:10,offset:1},md:{span:8,offset:2},children:(0,s.jsx)(o.Z,{editorId:n,mode:i,content:a?a.content:"",onPenClicked:c,onContentChanged:d,editable:a?p&&Date.now()-a.lastUpdateTime<18e4:p})})})]})})}function E(){var e=!1,n=(0,i.I0)(),t=(0,i.v9)((function(e){return e.container.workspaceKey})),m=(0,i.v9)((function(e){return e.container.searchKey})),h=(0,i.v9)((function(e){return e.container.searchIV})),f=(0,i.v9)((function(e){return e.page.activity})),x=(0,a.useState)("ReadOnly"),g=x[0],j=x[1],v=(0,i.v9)((function(e){return e.page.title})),N=(0,a.useState)("ReadOnly"),_=N[0],w=N[1],C=(0,i.v9)((function(e){return e.page.content})),D=(0,a.useState)(null),E=D[0],B=D[1],W=(0,i.v9)((function(e){return e.page.contentImagesDownloadQueue})),S=(0,i.v9)((function(e){return e.page.contentImagesDisplayIndex})),F=(0,i.v9)((function(e){return e.page.contentVideosDownloadQueue})),L=(0,i.v9)((function(e){return e.page.contentVideosDisplayIndex})),T=(0,i.v9)((function(e){return e.page.imagePanels})),U=(0,i.v9)((function(e){return e.page.attachmentPanels})),R=(0,i.v9)((function(e){return e.page.comments})),q=(0,a.useRef)(null),M=(0,a.useRef)(null),P=(0,a.useState)(!1),O=P[0],V=P[1],K=(0,a.useRef)(null),H=(0,a.useState)(!1),A=H[0],z=H[1],Q=function(n){(0,k.qu)(e,"onImageClicked: ",n);for(var t,s=[],a=0;a<T.length;a++){var i=T[a];if("Uploaded"===i.status||"Downloaded"===i.status){var r={};r.src=i.src,r.w=i.width,r.h=i.height,s.push(r),i.queueId===n&&(t=s.length-1)}}var l=q.current;new PhotoSwipe(l,PhotoSwipeUI_Default,s,{index:t}).init()},X=function(t){if((0,k.qu)(e,"pen ".concat(t," clicked")),"content"===t)w("Writing"),B("content");else if("title"===t)j("Writing"),B("title");else if(t.startsWith("image_")){var s=parseInt(t.split("_")[1]);n((0,y.kW)({index:s,mode:"Writing"})),B(t)}else t.startsWith("comment_")&&(n((0,y.pV)({index:t,mode:"Writing"})),B(t))},G=function(s,a){if((0,k.qu)(e,"editor-id: ".concat(s," content: ").concat(a)),"content"===E)a!==C?n((0,y.Qs)(a,t)):(Y("ReadOnly"),B(null));else if("title"===E)a!==v?n((0,y.Vf)(a,t,m,h)):(Y("ReadOnly"),B(null));else if(E.startsWith("image_")){var i=parseInt(E.split("_")[1]);a!==T[i].words?n((0,y.Hk)({index:i,content:a})):(n((0,y.kW)({index:i,mode:"ReadOnly"})),B(null))}else if(E.startsWith("comment_")){if("comment_New"!==E){var r=parseInt(E.split("_")[1]);if(R[r].content===a)return n((0,y.pV)({index:E,mode:"ReadOnly"})),void B(null)}n((0,y.qH)({index:E,content:a}))}},J=T.map((function(e,n){return(0,s.jsx)(u.Z,{panelIndex:"image_"+n,panel:e,onImageClicked:Q,editorMode:e.editorMode,onPenClicked:X,onContentChanged:G,editable:!E&&"Done"===f},e.queueId)})),Y=function(e){switch(E){case"content":w(e);break;case"title":j(e);break;default:if(E.startsWith("image_")){var t=parseInt(E.split("_")[1]);switch(e){case"Saving":case"ReadOnly":n((0,y.kW)({index:t,mode:e}))}}else if(E.startsWith("comment_"))switch(e){case"Writing":case"Saving":case"ReadOnly":n((0,y.pV)({index:E,mode:e}))}}},$=U.map((function(e,n){return(0,s.jsx)(b,{panelIndex:"attachment_"+n,panel:e},e.queueId)})),ee=function(e,n){"images"===e.target.id?V(n):z(n)},ne=function(n){(0,k.qu)(e,"handleDrag"),n.preventDefault(),n.stopPropagation(),"dragenter"===n.type||"dragover"===n.type?ee(n,!0):"dragleave"===n.type&&ee(n,!1)},te=function(n){if((0,k.qu)(e,"handleDrop"),n.preventDefault(),n.stopPropagation(),ee(n,!1),n.dataTransfer.files&&n.dataTransfer.files[0]&&"images"===n.target.id){n.dataTransfer.files[0].type.match(/image.*/)||(0,k.qu)(e,"Not an image.")}};(0,a.useEffect)((function(){"Done"===f?E&&(Y("ReadOnly"),B(null)):"Error"===f&&E&&Y("Writing")}),[f]),(0,a.useEffect)((function(){if(null!==C){var e=document.getElementsByClassName("bSafesDownloadVideo");Array.from(e).forEach((function(e){var t=e.cloneNode(!0);t.onclick=function(e){var t=e.target.id,s=t.split("&")[0];n((0,y.W5)({id:t,s3Key:s}))},e.replaceWith(t)}))}}),[C]),(0,a.useEffect)((function(){var e,t,s,a,i,r,l=S;if(l<W.length){if(e=W[l],!(t=document.getElementById(e.id)))return void n((0,y.XZ)(l+1));"Downloading"===e.status?(a=document.getElementById("imageContainer_"+e.id),i=document.getElementById("progress_"+e.id),a?(i||((i=document.createElement("div")).className="progress",i.id="progress_"+e.id,i.style.width="250px",i.style.margin="auto",i.innerHTML='<div class="progress-bar" id="progressBar_'.concat(e.id,'" style="width: ').concat(e.progress,'%;"></div>'),a.appendChild(i)),(r=document.getElementById("progressBar_"+e.id))&&(r.style.width=e.progress+"%")):(s=t.cloneNode(!0),(a=document.createElement("div")).style.position="relative",a.id="imageContainer_"+e.id,a.appendChild(s),t.replaceWith(a),(i=document.createElement("div")).className="progress",i.id="progress_"+e.id,i.style.width="250px",i.style.margin="auto",i.innerHTML='<div class="progress-bar" id="progressBar_'.concat(e.id,'" style="width: ').concat(e.progress,'%;"></div>'),a.appendChild(i))):"Downloaded"===e.status&&(a=document.getElementById("imageContainer_"+e.id),(i=document.getElementById("progress_"+e.id))&&a.removeChild(i),(t=document.getElementById(e.id)).src=e.src,n((0,y.XZ)(l+1)))}}),[W]),(0,a.useEffect)((function(){var e,t,s,a,i,r,l=L;if(l<F.length){if(e=F[l],!(t=document.getElementById(e.id)))return void n((0,y.XZ)(l+1));if("Downloading"===e.status)a=document.getElementById("videoContainer_"+e.id),i=document.getElementById("progress_"+e.id),a?(i||((i=document.createElement("div")).className="progress",i.id="progress_"+e.id,i.style.width="250px",i.style.margin="auto",i.innerHTML='<div class="progress-bar" id="progressBar_'.concat(e.id,'" style="width: ').concat(e.progress,'%;"></div>'),a.appendChild(i)),(r=document.getElementById("progressBar_"+e.id))&&(r.style.width=e.progress+"%")):(s=t.cloneNode(!0),(a=document.createElement("div")).style.position="relative",a.id="videoContainer_"+e.id,a.appendChild(s),t.replaceWith(a),(i=document.createElement("div")).className="progress",i.id="progress_"+e.id,i.style.width="250px",i.style.margin="auto",i.innerHTML='<div class="progress-bar" id="progressBar_'.concat(e.id,'" style="width: ').concat(e.progress,'%;"></div>'),a.appendChild(i));else if("Downloaded"===e.status){a=document.getElementById("videoContainer_"+e.id),(i=document.getElementById("progress_"+e.id))&&a.removeChild(i),t=document.getElementById(e.id);var d=document.createElement("span");d.className="fr-video",d.classList.add("fr-draggable"),d.setAttribute("contenteditable","true"),d.setAttribute("draggable","true");var c=document.createElement("video");c.className="bSafesVideo",c.classList.add("fr-draggable"),c.classList.add("fr-dvi"),c.classList.add("fr-fvc"),c.setAttribute("controls",""),c.innerHTML="Your browser does not support HTML5 video.",c.id=t.id,c.src=e.src,c.style=t.style,t.classList.contains("fr-dib")&&d.classList.add("fr-dvb"),t.classList.contains("fr-dii")&&d.classList.add("fr-dvi"),t.classList.contains("fr-fil")&&d.classList.add("fr-fvl"),t.classList.contains("fr-fic")&&d.classList.add("fr-fvc"),t.classList.contains("fr-fir")&&d.classList.add("fr-fvr"),d.appendChild(c),t.replaceWith(d),n((0,y.VD)(l+1))}}}),[F]),(0,a.useEffect)((function(){"ReadOnly"===_&&((0,k.qu)(e,"ReadOnly"),W.forEach((function(e){if("Downloaded"===e.status){var n=document.getElementById(e.id);n&&n.src.startsWith("http")&&(n.src=e.src)}})))}),[_]);return(0,s.jsxs)(s.Fragment,{children:["Done"!==f&&"Error"!==f&&(0,s.jsx)(c.Z,{className:Z().screenCenter,animation:"border"}),(0,s.jsx)(r.Z,{className:"justify-content-center",children:(0,s.jsx)(l.Z,{md:"10",children:(0,s.jsx)("hr",{})})}),(0,s.jsx)(r.Z,{className:"justify-content-center",children:(0,s.jsx)(l.Z,{md:"10",children:(0,s.jsx)(o.Z,{editorId:"title",mode:g,content:v,onContentChanged:G,onPenClicked:X,editable:!E&&"Done"===f})})}),(0,s.jsx)(r.Z,{className:"justify-content-center",children:(0,s.jsx)(l.Z,{md:"10",children:(0,s.jsx)("hr",{})})}),(0,s.jsx)(r.Z,{className:"justify-content-center",children:(0,s.jsx)(l.Z,{className:"contenEditorRow",xs:"12",md:"10",children:(0,s.jsx)(o.Z,{editorId:"content",mode:_,content:C,onContentChanged:G,onPenClicked:X,editable:!E&&"Done"===f})})}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsxs)("div",{className:"images",children:[(0,s.jsx)("input",{ref:M,onChange:function(s){s.preventDefault(),(0,k.qu)(e,"handleImageFiles: ",s.target.id);var a=s.target.files;a.length&&function(e,s){n((0,y.VZ)({files:e,where:s,workspaceKey:t}))}(a,"top")},type:"file",multiple:!0,accept:"image/*",className:"d-none editControl",id:"images"}),(0,s.jsx)(r.Z,{children:(0,s.jsx)(l.Z,{id:"images",onDragEnter:ne,onDragLeave:ne,onDragOver:ne,onDrop:te,sm:{span:10,offset:1},md:{span:8,offset:2},className:"text-center ".concat(O?Z().imagesDragDropZoneActive:Z().imagesDragDropZone),children:(0,s.jsx)(d.Z,{id:"1",onClick:function(n){var t;(0,k.qu)(e,"handleImageBtn"),n.preventDefault(),M.current.value=null,null===(t=M.current)||void 0===t||t.click()},variant:"link",className:"text-dark btn btn-labeled",children:(0,s.jsx)("h4",{children:(0,s.jsx)("i",{id:"1",className:"fa fa-picture-o fa-lg","aria-hidden":"true"})})})})})]}),(0,s.jsx)(r.Z,{className:"justify-content-center",children:(0,s.jsx)(l.Z,{xs:"12",sm:"10",lg:"8",children:J})}),(0,s.jsx)("br",{}),(0,s.jsxs)("div",{className:"attachments",children:[(0,s.jsx)("input",{ref:K,onChange:function(s){s.preventDefault(),(0,k.qu)(e,"handleAttachments: ",s.target.id);var a=s.target.files;a.length&&function(e){n((0,y.F1)({files:e,workspaceKey:t}))}(a)},type:"file",multiple:!0,className:"d-none editControl",id:"attachments"}),(0,s.jsx)(r.Z,{children:(0,s.jsx)(l.Z,{id:"attachments",onDragEnter:ne,onDragLeave:ne,onDragOver:ne,onDrop:te,sm:{span:10,offset:1},md:{span:8,offset:2},className:"text-center ".concat(A?Z().attachmentsDragDropZoneActive:Z().attachmentsDragDropZone),children:(0,s.jsx)(d.Z,{id:"1",onClick:function(n){var t;(0,k.qu)(e,"handleAttachmentBtn"),n.preventDefault(),K.current.value=null,null===(t=K.current)||void 0===t||t.click()},variant:"link",className:"text-dark btn btn-labeled",children:(0,s.jsx)("h4",{children:(0,s.jsx)("i",{id:"1",className:"fa fa-paperclip fa-lg","aria-hidden":"true"})})})})})]}),(0,s.jsx)(r.Z,{className:"justify-content-center",children:(0,s.jsx)(l.Z,{xs:"12",md:"8",children:$})}),(0,s.jsx)("br",{}),(0,s.jsxs)("div",{ref:q,className:"pswp",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:[(0,s.jsx)("div",{className:"pswp__bg"}),(0,s.jsxs)("div",{className:"pswp__scroll-wrap",children:[(0,s.jsxs)("div",{className:"pswp__container",children:[(0,s.jsx)("div",{className:"pswp__item"}),(0,s.jsx)("div",{className:"pswp__item"}),(0,s.jsx)("div",{className:"pswp__item"})]}),(0,s.jsxs)("div",{className:"pswp__ui pswp__ui--hidden",children:[(0,s.jsxs)("div",{className:"pswp__top-bar",children:[(0,s.jsx)("div",{className:"pswp__counter"}),(0,s.jsx)("button",{className:"pswp__button pswp__button--close",title:"Close (Esc)"}),(0,s.jsx)("button",{className:"pswp__button pswp__button--share",title:"Share"}),(0,s.jsx)("button",{className:"pswp__button pswp__button--fs",title:"Toggle fullscreen"}),(0,s.jsx)("button",{className:"pswp__button pswp__button--zoom",title:"Zoom in/out"}),(0,s.jsx)("div",{className:"pswp__preloader",children:(0,s.jsx)("div",{className:"pswp__preloader__icn",children:(0,s.jsx)("div",{className:"pswp__preloader__cut",children:(0,s.jsx)("div",{className:"pswp__preloader__donut"})})})})]}),(0,s.jsx)("div",{className:"pswp__share-modal pswp__share-modal--hidden pswp__single-tap",children:(0,s.jsx)("div",{className:"pswp__share-tooltip"})}),(0,s.jsx)("button",{className:"pswp__button pswp__button--arrow--left",title:"Previous (arrow left)"}),(0,s.jsx)("button",{className:"pswp__button pswp__button--arrow--right",title:"Next (arrow right)"}),(0,s.jsx)("div",{className:"pswp__caption",children:(0,s.jsx)("div",{className:"pswp__caption__center"})})]})]})]}),(0,s.jsx)(I,{handleContentChanged:G,handlePenClicked:X,editable:!E&&"Done"===f}),(0,s.jsx)(p.Z,{isEditing:E,onWrite:function(){(0,k.qu)(e,"handleWrite"),w("Writing"),B("content")},onSave:function(){(0,k.qu)(e,"handleSave"),Y("Saving")},onCancel:function(){(0,k.qu)(e,"handleCancel"),Y("ReadOnly"),B(null)}})]})}}}]);